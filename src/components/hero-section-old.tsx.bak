"use client";

import React from "react";
import Link from "next/link";
import { ChevronRight } from "lucide-react";
import { Button } from "@/components/ui/button";
import Image from "next/image";
import { TextEffect } from "@/components/ui/text-effect";
import { AnimatedGroup } from "@/components/ui/animated-group";
import { HeroHeader } from "./header";

const transitionVariants = {
  item: {
    hidden: {
      opacity: 0,
      filter: "blur(12px)",
      y: 12,
    },
    visible: {
      opacity: 1,
      filter: "blur(0px)",
      y: 0,
      transition: {
        type: "spring" as const,
        bounce: 0.3,
        duration: 1.5,
      },
    },
  },
};

export default function HeroSection() {
  return (
    <>
      <HeroHeader />
      <main className="overflow-hidden">
        <section>
          <div className="relative pt-24">
            {/* Enhanced background with multiple layers */}
            <div className="absolute inset-0 -z-10 size-full bg-[var(--color-navy)]">
              <div className="absolute inset-0 bg-gradient-to-br from-[var(--color-navy)] via-[#0A1520] to-[#050A12] opacity-95" />
              <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-[var(--color-gold)]/10 via-transparent to-transparent" />
              <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-[var(--color-gold)]/5 via-transparent to-transparent" />
              
              {/* Animated gradient orbs */}
              <div className="absolute top-1/4 right-1/4 w-96 h-96 bg-[var(--color-gold)]/10 rounded-full blur-3xl animate-glow" />
              <div className="absolute bottom-1/3 left-1/4 w-80 h-80 bg-[var(--color-gold)]/5 rounded-full blur-3xl animate-glow" style={{ animationDelay: '2s' }} />
              
              {/* Subtle grid pattern */}
              <div className="absolute inset-0 bg-[linear-gradient(to_right,rgba(196,165,82,0.03)_1px,transparent_1px),linear-gradient(to_bottom,rgba(196,165,82,0.03)_1px,transparent_1px)] bg-[size:80px_80px]" />
            </div>
            
            <div className="mx-auto max-w-5xl px-6">
              <div className="sm:mx-auto lg:mr-auto lg:mt-0">
                {/* Premium badge with shimmer effect */}
                <div className="inline-flex items-center gap-2 px-5 py-2 rounded-full border border-[var(--color-gold)]/30 bg-gradient-to-r from-[var(--color-gold)]/10 via-[var(--color-gold)]/5 to-transparent backdrop-blur-md mb-8 animate-fade-in hover:border-[var(--color-gold)]/50 transition-all duration-500 shadow-luxury group cursor-default">
                  <span className="relative flex h-2.5 w-2.5">
                    <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-[var(--color-gold)] opacity-75"></span>
                    <span className="relative inline-flex rounded-full h-2.5 w-2.5 bg-[var(--color-gold)] shadow-lg shadow-[var(--color-gold)]/50"></span>
                  </span>
                  <span className="text-gradient-gold text-sm font-semibold tracking-wider">EST. 1875 — 150 YEARS OF HERITAGE</span>
                </div>

                <TextEffect
                  preset="fade-in-blur"
                  speedSegment={0.3}
                  as="h1"
                  className="mt-2 max-w-3xl text-5xl font-semibold md:text-7xl lg:text-8xl lg:mt-4 text-[var(--color-ivory)] tracking-tight leading-[1.05]"
                  style={{ fontFamily: 'var(--font-serif)' }}
                >
                  Heritage tailored for{" "}
                  <span className="text-gradient-luxury inline-block">today.</span>
                </TextEffect>
                
                <TextEffect
                  per="line"
                  preset="fade-in-blur"
                  speedSegment={0.3}
                  delay={0.5}
                  as="p"
                  className="mt-8 max-w-2xl text-pretty text-[var(--color-ivory)]/80 text-xl leading-relaxed font-light"
                >
                  Modern menswear rooted in Eastern heritage. Each piece crafted with 
                  natural fibers, ethical production, and precision tailoring — 
                  honoring tradition while embracing contemporary elegance.
                </TextEffect>

                <AnimatedGroup
                  variants={{
                    container: {
                      visible: {
                        transition: {
                          staggerChildren: 0.05,
                          delayChildren: 0.75,
                        },
                      },
                    },
                    ...transitionVariants,
                  }}
                  className="mt-12 flex flex-wrap items-center gap-4"
                >
                  <div
                    key={1}
                    className="group relative"
                  >
                    <div className="absolute -inset-1 bg-gradient-to-r from-[var(--color-gold)] via-[#E8D499] to-[var(--color-gold)] rounded-[calc(var(--radius-xl)+0.25rem)] opacity-75 group-hover:opacity-100 blur-lg transition duration-500 animate-gradient" />
                    <Button
                      asChild
                      size="lg"
                      className="relative rounded-xl px-10 py-7 text-base bg-[var(--color-gold)] hover:bg-[#D4B563] text-[var(--color-navy)] font-bold shadow-luxury-lg transform hover:scale-105 transition-all duration-300"
                    >
                      <Link href="/shop">
                        <span className="text-nowrap tracking-wide">Shop New Arrivals</span>
                      </Link>
                    </Button>
                  </div>
                  <Button
                    key={2}
                    asChild
                    size="lg"
                    variant="ghost"
                    className="h-14 rounded-xl px-10 text-base text-[var(--color-ivory)] hover:bg-[var(--color-ivory)]/10 font-semibold border-2 border-[var(--color-ivory)]/30 hover:border-[var(--color-gold)]/50 transition-all duration-300 backdrop-blur-sm shadow-luxury"
                  >
                    <Link href="/custom">
                      <span className="text-nowrap">Book Fitting</span>
                    </Link>
                  </Button>
                </AnimatedGroup>

                {/* Enhanced trust indicators */}
                <div className="mt-16 flex flex-wrap items-center gap-8 text-[var(--color-ivory)]/70 text-sm animate-fade-in" style={{ animationDelay: '1s' }}>
                  <div className="flex items-center gap-3 group">
                    <div className="flex -space-x-1">
                      {[1, 2, 3, 4, 5].map((i) => (
                        <svg key={i} className="w-5 h-5 text-[var(--color-gold)] drop-shadow-lg transform group-hover:scale-110 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                        </svg>
                      ))}
                    </div>
                    <span className="font-semibold text-[var(--color-ivory)]">4.9</span>
                    <span>from 2,100+ reviews</span>
                  </div>
                  <div className="h-5 w-px bg-[var(--color-ivory)]/20" />
                  <div className="flex items-center gap-2">
                    <svg className="w-5 h-5 text-[var(--color-gold)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                    </svg>
                    <span className="font-medium">Free worldwide shipping</span>
                  </div>
                  <div className="h-5 w-px bg-[var(--color-ivory)]/20" />
                  <div className="flex items-center gap-2">
                    <svg className="w-5 h-5 text-[var(--color-gold)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                    <span className="font-medium">Lifetime guarantee</span>
                  </div>
                </div>
              </div>
            </div>
                    >
                      <Link href="/shop">
                        <span className="text-nowrap">Shop New Arrivals</span>
                      </Link>
                    </Button>
                  </div>
                  <Button
                    key={2}
                    asChild
                    size="lg"
                    variant="ghost"
                    className="h-12 rounded-xl px-8 text-base text-[var(--color-ivory)] hover:bg-[var(--color-ivory)]/10 font-medium border border-[var(--color-ivory)]/20 hover:border-[var(--color-ivory)]/30 transition-all"
                  >
                    <Link href="/custom">
                      <span className="text-nowrap">Book Fitting</span>
                    </Link>
                  </Button>
                </AnimatedGroup>

                {/* Trust indicators */}
                <div className="mt-12 flex items-center gap-6 text-[var(--color-ivory)]/60 text-sm animate-fade-in" style={{ animationDelay: '1s' }}>
                  <div className="flex items-center gap-2">
                    <svg className="w-5 h-5 text-[var(--color-gold)]" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <span className="font-medium">4.9 from 2,100+ reviews</span>
                  </div>
                  <div className="h-4 w-px bg-[var(--color-ivory)]/20" />
                  <span>Free worldwide shipping</span>
                </div>
              </div>
            </div>
            
            <AnimatedGroup
              variants={{
                container: {
                  visible: {
                    transition: {
                      staggerChildren: 0.05,
                      delayChildren: 0.75,
                    },
                  },
                },
                ...transitionVariants,
              }}
            >
              <div className="relative -mr-56 mt-16 overflow-hidden px-2 sm:mr-0 sm:mt-20 md:mt-24">
                <div
                  aria-hidden
                  className="bg-gradient-to-b to-[var(--color-navy)] absolute inset-0 z-10 from-transparent from-35%"
                />
                <div className="relative mx-auto max-w-5xl overflow-hidden rounded-3xl border-2 border-[var(--color-gold)]/20 p-2 shadow-2xl shadow-black/40 ring-1 ring-[var(--color-gold)]/10 backdrop-blur-sm bg-gradient-to-b from-[var(--color-gold)]/5 to-transparent">
                  <div className="rounded-2xl overflow-hidden ring-1 ring-[var(--color-gold)]/10">
                    <Image
                      className="bg-[var(--color-ivory)] aspect-[15/8] relative object-cover"
                      src="https://slelguoygbfzlpylpxfs.supabase.co/storage/v1/object/public/project-uploads/0a6d0e65-00af-4c2d-b3da-a1ffa32c4565/generated_images/professional-studio-fashion-photography--2089927e-20251019183737.jpg"
                      alt="East & Tailor heritage collection showcase"
                      width="2700"
                      height="1440"
                    />
                  </div>
                </div>
              </div>
            </AnimatedGroup>
          </div>
        </section>
        
        <section className="bg-[var(--color-navy)] pb-16 pt-20 md:pb-32 md:pt-24 border-t border-[var(--color-gold)]/10">
          <div className="group relative m-auto max-w-5xl px-6">
            <div className="absolute inset-0 z-10 flex scale-95 items-center justify-center opacity-0 duration-500 group-hover:scale-100 group-hover:opacity-100">
              <Link
                href="/heritage"
                className="flex items-center gap-2 px-6 py-3 rounded-full bg-[var(--color-gold)]/10 border border-[var(--color-gold)]/20 backdrop-blur-sm text-sm duration-150 hover:bg-[var(--color-gold)]/20 text-[var(--color-ivory)] font-medium"
              >
                <span className="tracking-wide">Crafted with tradition, worn with pride</span>
                <ChevronRight className="size-4" />
              </Link>
            </div>
            
            <div className="text-center mb-12 transition-opacity duration-500 group-hover:opacity-0">
              <p className="text-[var(--color-gold)] text-sm font-medium tracking-widest uppercase mb-2">As Featured In</p>
              <div className="h-px w-24 mx-auto bg-gradient-to-r from-transparent via-[var(--color-gold)]/30 to-transparent" />
            </div>
            
            <div className="transition-all duration-500 group-hover:blur-sm group-hover:opacity-30 mx-auto mt-12 grid max-w-3xl grid-cols-4 gap-x-12 gap-y-10 sm:gap-x-16 sm:gap-y-14 items-center">
              <div className="flex">
                <img
                  className="mx-auto h-5 w-fit brightness-0 invert opacity-50 hover:opacity-70 transition-opacity duration-300"
                  src="https://html.tailus.io/blocks/customers/nvidia.svg"
                  alt="GQ Magazine"
                  height="20"
                  width="auto"
                />
              </div>
              <div className="flex">
                <img
                  className="mx-auto h-4 w-fit brightness-0 invert opacity-50 hover:opacity-70 transition-opacity duration-300"
                  src="https://html.tailus.io/blocks/customers/column.svg"
                  alt="Esquire"
                  height="16"
                  width="auto"
                />
              </div>
              <div className="flex">
                <img
                  className="mx-auto h-4 w-fit brightness-0 invert opacity-50 hover:opacity-70 transition-opacity duration-300"
                  src="https://html.tailus.io/blocks/customers/github.svg"
                  alt="Vogue Man"
                  height="16"
                  width="auto"
                />
              </div>
              <div className="flex">
                <img
                  className="mx-auto h-5 w-fit brightness-0 invert opacity-50 hover:opacity-70 transition-opacity duration-300"
                  src="https://html.tailus.io/blocks/customers/nike.svg"
                  alt="Harper's Bazaar"
                  height="20"
                  width="auto"
                />
              </div>
              <div className="flex">
                <img
                  className="mx-auto h-5 w-fit brightness-0 invert opacity-50 hover:opacity-70 transition-opacity duration-300"
                  src="https://html.tailus.io/blocks/customers/lemonsqueezy.svg"
                  alt="Elle Man"
                  height="20"
                  width="auto"
                />
              </div>
              <div className="flex">
                <img
                  className="mx-auto h-4 w-fit brightness-0 invert opacity-50 hover:opacity-70 transition-opacity duration-300"
                  src="https://html.tailus.io/blocks/customers/laravel.svg"
                  alt="Gentlemen's Quarterly"
                  height="16"
                  width="auto"
                />
              </div>
              <div className="flex">
                <img
                  className="mx-auto h-7 w-fit brightness-0 invert opacity-50 hover:opacity-70 transition-opacity duration-300"
                  src="https://html.tailus.io/blocks/customers/lilly.svg"
                  alt="Men's Journal"
                  height="28"
                  width="auto"
                />
              </div>
              <div className="flex">
                <img
                  className="mx-auto h-6 w-fit brightness-0 invert opacity-50 hover:opacity-70 transition-opacity duration-300"
                  src="https://html.tailus.io/blocks/customers/openai.svg"
                  alt="Style Guide Magazine"
                  height="24"
                  width="auto"
                />
              </div>
            </div>
          </div>
        </section>
      </main>
    </>
  );
}
